<!doctype html>

<meta charset="utf-8">
<title>Visualizing Django Component Dependency</title>

<script src="http://d3js.org/d3.v3.js"></script>
<script src="build/dagre-d3.js"></script>
<script src="http://cpettitt.github.io/project/graphlib-dot/latest/graphlib-dot.min.js"></script>

<script id="django_dot" type="text/x-dot">
    strict digraph dependencies {
        graph [rankdir=LR, overlap=scale, size="8,10", ratio=fill, fontsize=16, fontname=Helvetica, clusterrank=local];
        graph [bb="0,0,1518,2807"];
        django [style=filled, pos="27,1339", width="0.75", height="0.5"];
        "django/apps" [style=filled, pos="125,1418", width="0.97222", height="0.5"];
        "django/conf" [style=filled, pos="674,1232", width="0.94444", height="0.5"];
        "django/utils" [style=filled, pos="230,1077", width="0.94444", height="0.5"];
        "django/core" [style=filled, pos="1091,1434", width="0.94444", height="0.5"];
        "django/contrib" [style=filled, pos="1337,1434", width="1.1111", height="0.5"];
        "django/db" [style=filled, pos="989,790", width="0.83333", height="0.5"];
        "django/shortcuts.py" [style=filled, pos="1466,2246", width="1.4167", height="0.5"];
        "django/test" [style=filled, pos="778,702", width="0.91667", height="0.5"];
        "django/dispatch" [style=filled, pos="1466,421", width="1.1944", height="0.5"];
        "django/forms" [style=filled, pos="885,1008", width="1.0278", height="0.5"];
        "django/http" [style=filled, pos="570,1724", width="0.94444", height="0.5"];
        "django/middleware" [style=filled, pos="1211,1113", width="1.3611", height="0.5"];
        "django/template" [style=filled, pos="455,1934", width="1.2222", height="0.5"];
        "django/views" [style=filled, pos="337,1555", width=1, height="0.5"];
        django -> "django/apps" [pos="e,105.96,1402.6 44.52,1353.1 59.377,1365.1 80.928,1382.5 97.991,1396.2"];
        django -> "django/conf" [pos="e,670.1,1214 31.37,1321.2 49.518,1251.7 126.26,999.12 300,919 428.77,859.61 600.33,1062.6 604,1067 638.61,1108.1 658.38,1168.8 667.58\
    ,1204"];
        django -> "django/utils" [pos="e,214.41,1093.3 37.628,1322.1 69.455,1276.7 164.47,1153.7 207.9,1101.1"];
        "django/apps" -> "django/core" [pos="e,1090.6,1452.2 125.66,1436.2 130.48,1566.8 163.85,2356.7 300,2546 345.27,2608.9 377.48,2626 455,2626 455,2626 455,2626 570,2626\
    956.45,2626 887.83,2245.1 1020,1882 1075.2,1730.2 1087.5,1534.8 1090.2,1462.4"];
        "django/apps" -> "django/utils" [pos="e,223.48,1094.7 129.65,1399.9 145.62,1343.4 198.46,1171.5 220.36,1104.2"];
        "django/conf" -> "django/contrib" [pos="e,1298.9,1440.4 690.53,1247.7 730.45,1290.6 837.76,1406.9 958,1448 1071.6,1486.8 1215.5,1458.7 1289,1442.6"];
        "django/conf" -> "django/core" [pos="e,1068.9,1420 702.33,1242.1 777.55,1274.4 981.83,1373.3 1060,1415.2"];
        "django/conf" -> "django/db" [pos="e,967.75,803.28 679.23,1214.1 686.05,1195.9 698.26,1168.1 708,1144 724.93,1102.1 720.35,1087.5 744,1049 806.26,947.78 909.67,850.31\
    959.87,809.55"];
        "django/conf" -> "django/shortcuts.py" [pos="e,1414.2,2246 677.29,1250 699.14,1368.1 826.68,2031.9 958,2184 1000.6,2233.4 1025.8,2246 1091,2246 1091,2246 1091,2246 1211,2246\
    1276.9,2246 1352.3,2246 1403.9,2246"];
        "django/conf" -> "django/test" [pos="e,765.07,718.8 677.34,1213.8 683.98,1183.2 699,1121 708,1068 730.27,936.91 709.07,899.3 744,771 748.02,756.23 754.35,740.65 760.47\
    ,727.92"];
        "django/conf" -> "django/utils" [pos="e,262.93,1072.3 662.16,1215.1 638.22,1177.4 579.49,1088.9 500,1063 415.5,1035.4 387.77,1048.9 300,1063 291.01,1064.4 281.6,1066.9\
    272.71,1069.4"];
        "django/contrib" -> "django/apps" [pos="e,125.62,1436.2 1336.7,1452.1 1334.9,1524.8 1323.9,1801.8 1260,2018 1149.9,2390.3 1273.3,2807 885,2807 778,2807 778,2807 778,2807\
    630.42,2807 602.58,2730 455,2730 337,2730 337,2730 337,2730 164.34,2730 234.19,2536.4 196,2368 154.64,2185.6 130.95,1584.2 125.99\
    ,1446.3"];
        "django/contrib" -> "django/conf" [pos="e,684.86,1249.4 1309.4,1447.3 1245.5,1470.2 1083.4,1508.8 958,1466 838.18,1425.1 731.2,1309.4 690.95,1257.4"];
        "django/contrib" -> "django/core" [pos="e,1125.7,1434 1296.3,1434 1252.1,1434 1181.7,1434 1136,1434"];
        "django/contrib" -> "django/db" [pos="e,1015,780.41 1336.2,1415.9 1331.7,1316 1307.8,835.89 1260,793 1195.1,734.76 1082.1,759.29 1024.7,777.26"];
        "django/contrib" -> "django/dispatch" [pos="e,1465.3,439.17 1343.2,1415.8 1352.3,1388.4 1369.1,1334.8 1378,1288 1439.8,962.14 1460.3,558.59 1464.9,449.37"];
        "django/contrib" -> "django/forms" [pos="e,920.25,1002.5 1335.1,1415.9 1328.1,1352.1 1301.8,1138.6 1260,1086 1181.2,986.85 1012.1,992.05 930.67,1001.2"];
        "django/contrib" -> "django/http" [pos="e,604.18,1724.5 1316.5,1449.5 1301.4,1460.5 1280,1475.2 1260,1486 823.27,1721.1 796.83,1693.4 708,1714 677.19,1721.2 641.56,1723.6\
    614.23,1724.3"];
        "django/contrib" -> "django/middleware" [pos="e,1216.9,1131.1 1328.6,1416.1 1306,1362.6 1244,1205 1220.4,1140.6"];
        "django/contrib" -> "django/shortcuts.py" [pos="e,1463.1,2227.9 1339.9,1452.1 1356.6,1557.1 1440.9,2088.3 1461.5,2217.6"];
        "django/contrib" -> "django/template" [pos="e,464.43,1951.6 1332.3,1452 1302.9,1560.4 1133.6,2121 778,2121 674,2121 674,2121 674,2121 576.34,2121 500.21,2012.1 469.61,1960.5"];
        "django/contrib" -> "django/test" [pos="e,810.64,697.72 1336.2,1415.7 1331.6,1312.8 1308,810.76 1260,763 1140.9,644.57 914.69,679.16 820.65,695.92"];
        "django/contrib" -> "django/utils" [pos="e,231.06,1058.9 1336.2,1415.8 1331.2,1307.7 1303.6,750.98 1260,690 1073.2,429 917.53,456.7 604,388 303.04,322.05 241.9,911.47 231.78\
    ,1048.8"];
        "django/contrib" -> "django/views" [pos="e,337.62,1573.2 1336.1,1452 1329.6,1553.6 1283.6,2057.9 1020,2328 905.61,2445.3 837.81,2455 674,2455 570,2455 570,2455 570,2455 \
    386.14,2455 344.58,1735.9 338.03,1583.2"];
        "django/core" -> django [pos="e,27.517,1357 1090.8,1452.1 1089,1552.2 1072.4,2046.1 922,2410 817.95,2661.8 727.42,2807 455,2807 230,2807 230,2807 230,2807 78.891\
    ,2807 34.167,1570.7 27.828,1367.2"];
        "django/core" -> "django/apps" [pos="e,125.52,1436.2 1090.8,1452 1089.4,1515.8 1080.4,1734 1020,1900 887.83,2263.1 956.45,2644 570,2644 455,2644 455,2644 455,2644 377.48\
    ,2644 345.27,2626.9 300,2564 165.62,2377.2 131.36,1605.2 125.86,1446.5"];
        "django/core" -> "django/conf" [pos="e,695.83,1245.8 1062.5,1423.8 986.96,1391.4 782.55,1292.4 704.68,1250.6"];
        "django/core" -> "django/db" [pos="e,991.89,808.33 1088.2,1415.9 1079.4,1352.2 1050.8,1134.3 1020,955 1011.8,907.12 1000.2,851.36 993.78,818.25"];
        "django/core" -> "django/dispatch" [pos="e,1462.5,439.06 1102.8,1416.9 1132.9,1372.8 1213,1251.1 1260,1140 1369.4,881.53 1440.9,546.96 1460.5,449.06"];
        "django/core" -> "django/http" [pos="e,603.69,1720.5 1076.8,1450.5 1037.2,1489.1 921.43,1584.8 812,1643 745.92,1678.2 663.07,1705.7 613.45,1718.2"];
        "django/core" -> "django/middleware" [pos="e,1203,1130.9 1096.6,1415.9 1115.1,1362.1 1173.9,1204.4 1199.2,1140.3"];
        "django/core" -> "django/template" [pos="e,471.06,1950.9 1090.3,1452.2 1085.3,1553 1046.6,2035 778,2035 674,2035 674,2035 674,2035 598.09,2035 518.11,1987.4 479.17,1957.4"];
        "django/core" -> "django/test" [pos="e,779.12,720.26 1079.6,1417 1066.1,1392.1 1042.6,1345.6 1020,1307 949.37,1186.5 901.51,1173 848,1044 802.4,934.07 785.22,790.93 \
    779.97,730.55"];
        "django/core" -> "django/utils" [pos="e,248.95,1092.1 1056.4,1436 1008.6,1432.8 919.96,1419 848,1394 608.17,1310.7 342.2,1154.4 257.48,1097.8"];
        "django/core" -> "django/views" [pos="e,353.96,1571.2 1083.2,1451.8 1049.3,1520 906.57,1763.2 708,1842 564.18,1899.1 506.95,1782.6 410,1662 386.83,1633.2 398.69,1614.5\
    374,1587 370.7,1583.3 366.68,1580 362.51,1577"];
        "django/db" -> "django/apps" [pos="e,125.21,1399.9 980.55,772.36 968.79,748.5 946.19,705 922,671 740.36,415.75 768.29,143 455,143 337,143 337,143 337,143 137.14,143\
    231.96,373.41 196,570 137.79,888.23 127.21,1282.5 125.37,1389.9"];
        "django/db" -> "django/conf" [pos="e,685.16,1214.7 974.83,805.96 933.79,846.14 813.35,954.24 744,1067 720.35,1105.5 724.93,1120.1 708,1162 702.16,1176.5 695.42,1192.3\
    689.5,1205.3"];
        "django/db" -> "django/core" [pos="e,1089.1,1415.9 994.22,807.98 1000.7,835.86 1011.9,890.19 1020,937 1050.5,1114.3 1078.8,1329.4 1087.9,1405.7"];
        "django/db" -> "django/dispatch" [pos="e,1445.3,437 1007.7,775.53 1081,718.87 1348.7,511.73 1437.3,443.19"];
        "django/db" -> "django/forms" [pos="e,895.35,990.54 982.23,807.74 965.67,846.21 922.8,936.52 899.92,981.64"];
        "django/db" -> "django/utils" [pos="e,232.48,1059 974.97,773.95 947.41,743.9 882.72,680.34 812,660 636.85,609.61 581.16,678.37 410,741 358.67,759.78 334.18,753.35 300\
    ,796 268.42,835.4 243.3,985.99 233.95,1049"];
        "django/dispatch" -> "django/conf" [pos="e,679.61,1214 1428.2,411.8 1378.7,400.56 1288.9,383 1211,383 989,383 989,383 989,383 919.14,383 765.64,895.58 744,962 722.23,1028.8\
    725.89,1048 708,1116 700,1146.4 689.71,1181 682.56,1204.4"];
        "django/forms" -> "django/conf" [pos="e,682.92,1214.6 862.89,1022.7 833.48,1042.9 780.92,1081.6 744,1123 721.1,1148.7 700.58,1182.6 687.77,1205.7"];
        "django/forms" -> "django/core" [pos="e,1088.2,1416 901.17,1024.6 929.28,1054.3 987.27,1119.7 1020,1185 1057.7,1260.1 1078.2,1358.3 1086.5,1405.8"];
        "django/forms" -> "django/db" [pos="e,978.89,806.99 891.82,990.14 908.45,951.53 951.38,861.11 974.21,816.12"];
        "django/forms" -> "django/utils" [pos="e,243.66,1060.2 883.92,989.97 879.7,926.53 862.03,715.25 812,675 788.45,656.06 772.57,665.15 744,675 517.11,753.19 313.77,977.24\
    250.36,1052.2"];
        "django/http" -> "django/conf" [pos="e,669.58,1250.3 579.09,1706.6 586.9,1690.9 597.84,1667 604,1645 634.99,1534.4 619.83,1502.1 640,1389 648.09,1343.6 659.91,1291.4\
    667.27,1260.1"];
        "django/http" -> "django/core" [pos="e,1068.9,1448.1 595.33,1711.7 640.44,1695 737.01,1664.9 812,1625 909.23,1573.3 1011.5,1492 1060.8,1454.2"];
        "django/http" -> "django/utils" [pos="e,239.27,1094.6 560.74,1706.4 513.65,1616.8 300.8,1211.7 243.98,1103.6"];
        "django/middleware" -> "django/conf" [pos="e,695.62,1217.8 1168.8,1103.7 1118.1,1094.2 1030.8,1082.8 958,1099 859.44,1120.9 754.63,1180.9 704.36,1212.3"];
        "django/middleware" -> "django/contrib" [pos="e,1331.2,1416.1 1219.5,1131 1242.1,1184.6 1304.2,1342.5 1327.7,1406.7"];
        "django/middleware" -> "django/core" [pos="e,1099.1,1416 1205.5,1130.9 1187.1,1184.4 1128.2,1342.4 1102.8,1406.6"];
        "django/middleware" -> "django/db" [pos="e,999.35,807.26 1198,1095.6 1170.8,1059.3 1106.5,972.32 1056,897 1037.7,869.77 1017.9,837.82 1004.6,815.96"];
        "django/middleware" -> "django/http" [pos="e,583.17,1707.2 1178.2,1126.5 1172.6,1129.3 1167,1132.5 1162,1136 904.97,1315.8 659.2,1612.1 589.54,1699.2"];
        "django/middleware" -> "django/utils" [pos="e,231.72,1058.6 1209.6,1094.9 1204.9,1043.1 1186.6,890.53 1126,782 1070.8,683.04 1032.9,652.26 922,629 646.45,571.21 478.08,530.93\
    300,749 262.25,795.22 240.08,977.71 232.74,1048.6"];
        "django/shortcuts.py" -> "django/core" [pos="e,1099.2,1451.7 1457.8,2228.2 1409.4,2123.4 1162.3,1588.3 1103.5,1461.1"];
        "django/shortcuts.py" -> "django/db" [pos="e,989.87,808.04 1453.4,2228.3 1395.6,2146.1 1154.8,1791.7 1056,1461 1019.1,1337.4 996.06,929.23 990.38,818.13"];
        "django/shortcuts.py" -> "django/http" [pos="e,575.42,1741.9 1436.6,2261 1390.1,2283.4 1295.9,2323 1211,2323 1091,2323 1091,2323 1091,2323 783.96,2323 616.76,1869.4 578.53,1751.6"];
        "django/shortcuts.py" -> "django/template" [pos="e,460.12,1951.9 1448.7,2263 1432,2278.5 1405.3,2300.6 1378,2313 1329.3,2335.1 1313.2,2330.9 1260,2337 1047.1,2361.6 992.31,2351 \
    778,2351 674,2351 674,2351 674,2351 585.81,2351 490.77,2055 463.02,1961.8"];
        "django/shortcuts.py" -> "django/utils" [pos="e,230.8,1095.2 1453.8,2263.6 1438.5,2284.3 1410.3,2318.3 1378,2337 1057.5,2522.6 940.38,2541 570,2541 455,2541 455,2541 455,2541\
    304.05,2541 240.72,1309.4 231.27,1105.4"];
        "django/template" -> "django/apps" [pos="e,135.5,1435.2 443.18,1916.4 417.03,1877.5 352.49,1780.9 300,1699 240.27,1605.8 171.37,1493.8 140.9,1444"];
        "django/template" -> "django/conf" [pos="e,669.55,1250.1 461.14,1916 487.56,1838.5 590.91,1535.2 604,1492 629.38,1408.2 655.1,1307.8 667.07,1260"];
        "django/template" -> "django/core" [pos="e,1090,1452 482.82,1948.2 522.96,1972.3 600.39,2017 674,2017 674,2017 674,2017 778,2017 1033.9,2017 1081.2,1579.2 1089.4,1462.3"];
        "django/template" -> "django/http" [pos="e,560.38,1741.6 464.8,1916.1 485.1,1879 531.78,1793.8 555.54,1750.4"];
        "django/template" -> "django/utils" [pos="e,230.68,1095.4 441.67,1916.8 432.43,1900.7 420.02,1876.6 410,1855 356.58,1739.7 333.45,1713.6 300,1591 250.84,1410.8 235.16,1184.4\
    231.17,1105.5"];
        "django/test" -> "django/apps" [pos="e,127.34,1399.8 771.08,684.31 743.07,615.97 631.1,373 455,373 337,373 337,373 337,373 304.53,373 311.25,405.54 300,436 231.97,620.25\
    147.1,1249 128.65,1389.9"];
        "django/test" -> "django/conf" [pos="e,680.02,1214.2 771.71,719.73 763.88,737.39 750.71,764.34 744,789 709.07,917.3 730.27,954.91 708,1086 700.93,1127.6 690.15,1174.9\
    682.63,1204.3"];
        "django/test" -> "django/contrib" [pos="e,1336.4,1415.8 804.61,691.04 885.96,666.08 1133.5,619.16 1260,745 1307.4,792.12 1330.9,1281.5 1336,1405.6"];
        "django/test" -> "django/core" [pos="e,1084.9,1416.3 779.85,720.15 784.96,770.74 802.05,915.23 848,1026 901.51,1155 949.37,1168.5 1020,1289 1043.4,1328.8 1067.6,1377.1\
    1080.9,1406.9"];
        "django/test" -> "django/db" [pos="e,963.81,779.49 804.72,713.15 842.79,729.02 912.64,758.15 954.55,775.63"];
        "django/test" -> "django/dispatch" [pos="e,1445.8,404.74 778.91,683.98 782.54,620.58 798.23,409.39 848,369 1030.9,220.55 1150.8,306.88 1378,369 1399.4,374.84 1420.8,387.36\
    1437.2,398.65"];
        "django/test" -> "django/forms" [pos="e,878.77,990.18 784.22,719.77 802.09,770.9 853.74,918.61 875.33,980.36"];
        "django/test" -> "django/http" [pos="e,571.22,1705.9 768.87,719.5 761.14,735 750.35,758.46 744,780 715.99,875.04 731.67,903.79 708,1000 685.07,1093.2 661.62,1111.5 640\
    ,1205 597.36,1389.4 577.78,1617.2 571.95,1695.8"];
        "django/test" -> "django/template" [pos="e,457.25,1915.8 769.32,719.64 761.88,735.24 751.25,758.75 744,780 722.83,842.03 738.56,865.02 708,923 686.71,963.39 660.54,959.23\
    640,1000 555.91,1166.9 476.03,1767.7 458.53,1905.6"];
        "django/test" -> "django/utils" [pos="e,234.41,1058.9 745.54,706.92 660.12,715.14 426.95,736.49 300,864 273.26,890.86 248.12,997.55 236.6,1049.1"];
        "django/test" -> "django/views" [pos="e,343.28,1537.2 767.21,719.16 743.89,756.28 687.09,846.81 640,923 593.43,998.34 568.81,1010.7 536,1093 507.55,1164.3 531.1,1191.8\
    500,1262 472.28,1324.6 443.83,1327.5 410,1387 383.08,1434.4 359.5,1493.5 346.85,1527.5"];
        "django/utils" -> django [pos="e,41.927,1323.5 219.17,1094.2 186.95,1140.1 91.344,1263.8 48.357,1315.8"];
        "django/utils" -> "django/apps" [pos="e,131.57,1400.2 225.32,1095.2 209.32,1151.8 156.61,1323.3 134.69,1390.6"];
        "django/utils" -> "django/conf" [pos="e,666.95,1214.3 248.32,1061.8 262.21,1054.7 281.94,1047.9 300,1045 387.77,1030.9 415.5,1017.4 500,1045 579.77,1071 638.64,1160 662.42\
    ,1205.4"];
        "django/utils" -> "django/core" [pos="e,1061.1,1424.9 255.74,1089.1 338.51,1134.3 606.51,1292.1 848,1376 917.46,1400.1 1002.4,1413.9 1051.3,1423"];
        "django/utils" -> "django/dispatch" [pos="e,1464,402.91 231.01,1058.9 235.25,987.19 253.58,717.09 300,500 348.65,272.49 222.34,0 455,0 455,0 455,0 1211,0 1395.3,0 1450.1,\
    298.85 1462.7,392.97"];
        "django/utils" -> "django/template" [pos="e,448.44,1915.9 231.04,1095.3 234.8,1161.2 250.28,1390.7 300,1573 333.45,1695.6 356.58,1721.7 410,1837 420.92,1860.6 434.66,1887\
    444.07,1906.6"];
        "django/utils" -> "django/test" [pos="e,744.91,698.36 232.75,1058.7 241.47,1009.3 269.7,876.43 300,846 421.95,723.52 641.89,698.99 734.76,698.34"];
        "django/utils" -> "django/views" [pos="e,333.55,1537 234.67,1094.9 252.02,1167.4 312.8,1438.9 331.49,1527.2"];
        "django/views" -> django [pos="e,33.913,1356.8 303.44,1547.7 251.84,1534.8 152.47,1504 90,1445 66.299,1422.6 48.506,1389.4 37.977,1366.1"];
        "django/views" -> "django/apps" [pos="e,146.89,1432.1 314.59,1540.5 276.4,1515.8 198.67,1465.6 155.54,1437.7"];
        "django/views" -> "django/conf" [pos="e,666.8,1249.8 364.32,1542.9 416.9,1518.4 533.22,1458.3 604,1377 620.27,1358.3 647.59,1295.9 662.84,1259.4"];
        "django/views" -> "django/contrib" [pos="e,1335.7,1452.2 337.79,1573.1 343.52,1698.9 383.73,2437 570,2437 570,2437 570,2437 674,2437 837.81,2437 905.61,2427.3 1020,2310 \
    1271.2,2052.6 1324.8,1582.5 1334.9,1462.4"];
        "django/views" -> "django/core" [pos="e,1079.7,1451.4 369.05,1564.2 370.82,1565.7 372.49,1567.3 374,1569 398.69,1596.5 386.83,1615.2 410,1644 506.95,1764.6 564.18,1881.1\
    708,1824 892.44,1750.8 1028.7,1535.8 1074.4,1460.3"];
        "django/views" -> "django/db" [pos="e,961.26,797.7 350.29,1538.1 378.62,1502 446.7,1414.3 500,1338 614.11,1174.7 621.89,1119.4 744,962 785.84,908.07 792.12,888.19 848\
    ,849 880.01,826.55 921.88,810.4 951.66,800.73"];
        "django/views" -> "django/forms" [pos="e,875.34,1025.7 371.31,1548.8 405.4,1541.8 458.45,1528.2 500,1506 552.88,1477.7 563.59,1464.3 604,1420 723.78,1288.6 832.2,1102.9\
    870.42,1034.6"];
        "django/views" -> "django/http" [pos="e,549.7,1709.3 357.68,1570 399.41,1600.3 493.77,1668.7 541.38,1703.2"];
        "django/views" -> "django/middleware" [pos="e,1205.8,1094.8 337.89,1536.7 344.38,1425.9 394.86,844.16 744,660 920.72,566.79 1026.4,723.82 1126,897 1162.6,960.57 1190.1,1042.9\
    1203,1085.2"];
        "django/views" -> "django/template" [pos="e,444.46,1916.3 341.52,1573.1 357.36,1636.4 409.38,1844.3 410,1846 418.04,1867.4 429.91,1890.4 439.44,1907.5"];
        "django/views" -> "django/utils" [pos="e,233.44,1095 332.3,1537 314.91,1464.2 254.17,1193 235.5,1104.8"];
    }

</script>


<style>
svg {
  border: 1px solid #999;
  overflow: hidden;
}

text {
  font-weight: 300;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serf;
  font-size: 14px;
}

.node rect {
  stroke: #333;
  stroke-width: 2px;
  fill: #fff;
}

.edgeLabel rect {
  fill: #fff;
}

.edgePath path {
  stroke: #333;
  stroke-width: 1.5px;
  fill: none;
}
</style>

<style>
h1, h2 {
  color: #333;
}

textarea {
  width: 800px;
}

label {
  margin-top: 1em;
  display: block;
}

.error {
  color: red;
}
</style>

<body onLoad="tryDraw();">

<svg width=800 height=600>
  <g transform="translate(20, 20)"/>
</svg>

<script>
// Input related code goes here

var debugAlignmentRE = /[?&]alignment=([^&]+)/;
var debugAlignmentMatch = window.location.search.match(debugAlignmentRE);
var debugAlignment;
if (debugAlignmentMatch) debugAlignment = debugAlignmentMatch[1];

function tryDraw() {
  var result;
  var dotFile = document.querySelector("#django_dot");

  result = graphlibDot.parse(dotFile.textContent);

  if (result) {

    // Cleanup old graph
    var svg = d3.select("svg");

    var renderer = new dagreD3.Renderer();

    // Handle debugAlignment
    renderer.postLayout(function(graph) {
      if (debugAlignment) {
        // First find necessary delta...
        var minX = Math.min.apply(null, graph.nodes().map(function(u) {
          var value = graph.node(u);
          return value[debugAlignment] - value.width / 2;
        }));

        // Update node positions
        graph.eachNode(function(u, value) {
          value.x = value[debugAlignment] - minX;
        });

        // Update edge positions
        graph.eachEdge(function(e, u, v, value) {
          value.points.forEach(function(p) {
            p.x = p[debugAlignment] - minX;
          });
        });
      }
    });

    // Uncomment the following line to get straight edges
    //renderer.edgeInterpolate('linear');

    // Custom transition function
    function transition(selection) {
      return selection.transition().duration(500);
    }

    renderer.transition(transition);

    var layout = renderer.run(result, svg.select("g"));
    transition(d3.select("svg"))
      .attr("width", layout.graph().width + 40)
      .attr("height", layout.graph().height + 40)
    d3.select("svg")
      .call(d3.behavior.zoom().on("zoom", function() {
        var ev = d3.event;
        svg.select("g")
          .attr("transform", "translate(" + ev.translate + ") scale(" + ev.scale + ")");
      }));
  }
}
</script>
